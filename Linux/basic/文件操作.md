# Linux VI/VIM 文件操作
### vi/vim 是什么?
* VI 是 Unix 操作系统和类 Unix 操作系统中最通用的文本编辑器。
* VIM 编辑器是从 VI 发展出来的一个性能更强大的文本编辑器。可以主动的以字体颜色辨别语法的正确性，方便程序设计。VIM 与 VI 编辑器完全兼容。
[因本人喜欢vi多于vim 所以以下 统一采用vi取举例论述]
### vi/vim 的使用
    基本上 vi/vim 共分为三种模式，分别是 命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）。 
    这三种模式的作用分别是
#### 命令模式
    用户敲下vi时,便进入了命令模式.
    ```
    #例 随便打开一个txt文件
    vi temp.txt
    #以下是文件打开后的内容
    大家好我是临时文件temp.txt
    我现在的职责是:帮助我的创建者,
    学会使用用vi命令操作我,
    一起来试试吧!!!
    ~
    ~
    ~
    ~
    ~
    "temp.txt" 4L, 137C
    #文件内容结束
    这里解释一下 4L是4行的意思,137C是啥意思呢,emmm 我也不知道,如果有谁知道请联系我 😭
    ```
   以上内容就是命令模式了,具体的操作细节后面再学习. 
    
#### 输入模式
在命令模式下按下i就进入了输入模式。
在输入模式中，可以使用以下按键：
* 字符按键以及Shift组合，输入字符
* ENTER，回车键，换行
* BACK SPACE，退格键，删除光标前一个字符
* DEL，删除键，删除光标后一个字符
* 方向键，在文本中移动光标
* HOME/END，移动光标到行首/行尾
* Page Up/Page Down，上/下翻页
* Insert，切换光标为输入/替换模式，光标将变成竖线/下划线
* ESC，退出输入模式，切换到命令模式

#### 底线命令模式
    在命令模式下按下:（英文冒号）就进入了底线命令模式。
    底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。
    在底线命令模式中，基本的命令有（已经省略了冒号）：
    q 退出程序
    w 保存文件
    按ESC键可随时退出底线命令模式。
### 进入操作实例
* Q1 如何用vi命令打开一个文本文件?
```
vi temp.txt
```
* Q2 如何打开带行号的文本文件?
    首先进入命令模式 按:切换到底线命令模式,再通过 set number 命令打开行号显示 如下所见
```
      1 大家好我是临时文件temp.txt
      2 我现在的职责是:帮助我的创建者,
      3 学会使用用vi命令操作我,
      4 一起来试试吧!!
~
~
~
:set number
```
* Q3 如何关闭行号显示呢?
    进入底线命令模式 输入命令 ``` set nonumber ``` 即可关闭显式行号
* Q4 如何输入文字,然后保存离开?
    首先当你处于命令模式下时,按i进入编辑模式,输入你愿意输入的内容,然后esc切换到命令模式 然后按:切换到底线命令模式,输入wq保存退出.
    ```
    # 进入文件
    vi temp.txt
    #当前处于命令模式 按i进入输入模式 输入内容
    ********************(此处略去内容)
    #按esc按键进入命令模式
    #按:进入底线命令模式
    wq 回车保存并退出

    ```
* Q5 我已经改了内容,但是我不想保存,就直接退出,该怎么操作?
    首先,假设我们当前处于命令模式,按:进入底线命令模式,然后按q就能退出了,
    但是,若我们改变了文件的内容,输入q命令是 会有错误提醒的vi不允许这么做的,
    out:E37: No write since last change (add ! to override)
    这时候,我们根据提示,add !就行
    输入```q! ```即为强制不保存退出,但是记住,这是命令的意思是,你本次的所有编辑内容会被舍弃,退出但不保存

```


```